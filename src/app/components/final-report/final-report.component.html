<p-toolbar>
    <div class="p-toolbar-group-left">
        <p-button icon="fas fa-arrow-left"
                  label="Voltar ao mapa"
                  routerLink="/map"

                  styleClass="p-button-raised">
        </p-button>
        &nbsp;&nbsp;
        <p-button (click)="onViewReportClicked('')"
                  pTooltip="{{ 'viewSynthesis' | translate }}"

                  styleClass="btn btn-icon p-button-raised view-report-icon icon-margin synthesis-link"
                  tooltipPosition="top">
            <span class="fas fa-file-invoice synthesis-icon"></span>
        </p-button>
        &nbsp;&nbsp;
        <p-button (click)="onViewReportClicked('deter')"
                  pTooltip="{{'viewDeterReport' | translate}}"
                  styleClass="btn btn-icon p-button-raised view-report-icon"
                  tooltipPosition="top">
            <img src="assets/img/ico/deter32x32.png"/>
        </p-button>
        <p-button (click)="onViewReportClicked('prodes')"
                  pTooltip="{{'viewProdesReport' | translate}}"
                  styleClass="btn btn-icon p-button-raised view-report-icon icon-margin"
                  tooltipPosition="top">
            <img src="assets/img/ico/prodes32x32.png"/>
        </p-button>
        <p-button (click)="onViewReportClicked('queimada')"
                  pTooltip="{{'viewBurnedReport' | translate}}"
                  styleClass="btn btn-icon p-button-raised view-report-icon icon-margin"
                  tooltipPosition="top">
            <img src="assets/img/ico/queima.ico"/>
        </p-button>
    </div>
    <div class="p-toolbar-group-right">
        <div *ngIf="loggedUser.administrator" class="report-buttons">
            <p-button (click)="generatePdf('open')"
                      [disabled]="!docBase64 || generatingReport"
                      icon="fas fa-download p-button-raised"
                      label="{{'generateReport' | translate}}"

                      type="button">
            </p-button>
            <div class="vector-button">
                <p-inputSwitch [(ngModel)]="downloadVectors"
                               [disabled]="!docBase64 || generatingReport"
                               id="getVectors">
                </p-inputSwitch>
                <label for="getVectors">{{'downloadVectors' | translate}}</label>
            </div>
        </div>
    </div>
</p-toolbar>
<canvas height="400" id="imagem2" style="display: none" width="600"></canvas>
<canvas height="400" id="chartImg" style="display: none" width="600"></canvas>
<div *ngIf="loggedUser.administrator" class="form">
    <br>
    <label>Sat: </label>
    <input [(ngModel)]="inputSat"
           [disabled]="!docBase64 || generatingReport"
           class="width-100"
           pInputText
           placeholder="Sat"
           type="text">
</div>
<div *ngIf="loggedUser.administrator" class="form">
    <br>
    <label>{{labelTextArea}} </label>
    <textarea
            [(ngModel)]="textAreaComments"
            [cols]="30"
            [disabled]="!docBase64 || generatingReport"
            [rows]="4"
            class="width-100"
            pInputTextarea>
        </textarea> <br>
</div>
<div *ngIf="!!docBase64">
    <ngx-extended-pdf-viewer
            [base64Src]="docBase64"
            [handTool]="false"
            [height]="loggedUser.administrator ? 'calc(100vh - 310px)' : 'calc(100vh - 100px)'"
            [showFindButton]="false"
            [showHandToolButton]="true"
            [showSecondaryToolbarButton]="false"
            [showSidebarButton]="false"
            [useBrowserLocale]="true"
            backgroundColor="#ffffff">
    </ngx-extended-pdf-viewer>
</div>

<div *ngIf="!docBase64" class="final-report-loading">
    <p-progressSpinner animationDuration="1s" strokeWidth="6"></p-progressSpinner>
</div>
<p-confirmDialog [baseZIndex]="10000" [style]="{width: '25vw'}"></p-confirmDialog>
