<div class="p-col-12 header p-nogutter">
    <i (click)="showHideSidebar()" class="fas fa-bars header-icon sidebar-icon"></i>

    &nbsp;&nbsp;

    <span class="header-title">{{headerTitle}}</span>

    <button (click)="showFilter()"
            class="p-button-raised p-button-secondary button-filter"
            icon="fas fa-filter"
            label="Filtrar"
            pButton
            type="button">
    </button>

    <div class="p-g-12 p-md-4 header-filter">
        <p-calendar #dateFilter
                    (onClose)="onFilterClose()"
                    (onFocus)="onFilterFocus()"
                    [(ngModel)]="dateInput"
                    [dateFormat]="dateField.dateFormat"
                    [hideOnDateTimeSelect]="true"
                    [locale]="locale"
                    [maxDate]="maxDate"
                    [monthNavigator]="false"
                    [name]="dateField.name"
                    [numberOfMonths]="dateField.numberOfMonths"
                    [readonlyInput]="false"
                    [selectionMode]="dateField.selectionMode"
                    [showIcon]="false"
                    [showOnFocus]="true"
                    [showTime]="dateField.showTime"
                    [yearNavigator]="true"
                    [showButtonBar]="true"
                    todayButtonStyleClass="hide-button"
                    clearButtonStyleClass="hide-button"
                    yearRange="1998:2100">
            <p-footer class="date-footer">
                <button (click)="onTodayClick()"
                        [label]="locale.today"
                        class="date-button date-button-today p-button-raised"
                        pButton
                        type="button">
                </button>
                <button (click)="onFilterClick()"
                        [disabled]="(dateInput && !dateInput[1] && dateInput[1] === null)"
                        class="date-button button-right p-button-raised"
                        label="Filtrar"
                        pButton
                        type="button">
                </button>
            </p-footer>
        </p-calendar>
    </div>

    <div class="header-right">

        &nbsp;&nbsp;

        <ng-container *ngIf="hasLogin && !isAuthenticated; then login; else logout"></ng-container>

        <ng-template #login>
            <button (click)="onLoginClick()"
                    class="p-button-raised p-button-secondary"
                    icon="fa fa-sign-in-alt"
                    label="Login"
                    pButton
                    type="button">
            </button>
        </ng-template>
        
        <ng-template #logout>
            <div>{{loggedUserName }}</div>
            &nbsp;&nbsp;

            <div *ngIf="isAdministrator == true">
                <button routerLink="/settings/groups"
                    icon="pi pi-cog"
                    pButton
                    type="button">
                </button>
            </div>

            <button (click)="onLogoutClick()"
                    class="p-button-raised p-button-secondary"
                    icon="fa fa-sign-in-alt"
                    label="Logout"
                    pButton
                    type="button">
            </button>
        </ng-template>

    </div>

    <p-dialog
            [(visible)]="displayLogin"
            [baseZIndex]="1002"
            [draggable]="false"
            [modal]="true"
            [resizable]="false"
            [showHeader]="false"
            autoZIndex="false"
            baseZIndex="1001">

        <app-auth (closeLoginClicked)="onCloseLoginClick($event)"
                  [displayLogin]="displayLogin">
        </app-auth>

    </p-dialog>

</div>
