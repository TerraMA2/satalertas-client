<p-toolbar>
    <div class="p-toolbar-group-left">
        <p-button icon="fas fa-arrow-left"
                  label="Voltar ao mapa"
                  routerLink="/map"

                  styleClass="p-button-raised">
        </p-button>
    </div>
    <div *ngIf="isLoading" class="loading-report">
        <p-progressSpinner [style]="{width: '30px', height: '30px'}" animationDuration="1s"
                           strokeWidth="6"></p-progressSpinner>
    </div>
    <div class="p-toolbar-group-right">
        <p-button (click)="onViewReportClicked('deter')"
                  pTooltip="{{'viewDeterReport' | translate}}"
                  styleClass="btn btn-icon p-button-raised view-report-icon"
                  tooltipPosition="top">
            <img src="assets/img/ico/deter32x32.png"/>
        </p-button>
        <p-button (click)="onViewReportClicked('prodes')"
                  pTooltip="{{'viewPordesReport' | translate}}"
                  styleClass="btn btn-icon p-button-raised view-report-icon icon-margin"
                  tooltipPosition="top">
            <img src="assets/img/ico/prodes32x32.png"/>
        </p-button>
        <p-button (click)="onViewReportClicked('queimada')"
                  pTooltip="{{'viewBurnedReport' | translate}}"
                  styleClass="btn btn-icon p-button-raised view-report-icon icon-margin"
                  tooltipPosition="top">
            <img src="assets/img/ico/queima.ico"/>
        </p-button>
    </div>
</p-toolbar>

<p-scrollPanel [style]="{width: '100%', height: 'calc(100vh - 100px)'}">
    <div class="background-color-gray">
        <br>
        <div class="container" id="print-section">
            <app-property-data [property]="property"></app-property-data>
            <hr>
            <app-vision [legends]="visionLegends" [visions]="visions"></app-vision>
            <br>
            <app-vision-detailed [detailedVisions]="detailedVisions"
                                 [formattedFilterDate]="formattedFilterDate"></app-vision-detailed>
            <br>
            <app-deforestation [deforestations]="deforestations"></app-deforestation>
            <br>
            <app-deforestation-history-deter
                    [deforestationHistoryDeters]="deforestationHistoryDeters"></app-deforestation-history-deter>
            <br>
            <app-history-deter-chart [data]="historyDeterChartData"></app-history-deter-chart>
            <br>
            <app-deforestation-history-prodes
                    [deforestationHistoryProdes]="deforestationHistoryProdes"></app-deforestation-history-prodes>
            <br>
            <app-history-prodes-chart [data]="historyProdesChartData"></app-history-prodes-chart>
            <br>
            <app-burning-spotlights [burningSpotlights]="burningSpotlights"></app-burning-spotlights>
            <br>
            <app-burning-spotlights-chart [data]="burningSpotlightsChartData"></app-burning-spotlights-chart>
            <br>
            <app-burned-areas [burnedAreas]="burnedAreas"></app-burned-areas>
            <br>
            <app-burned-areas-chart [burnedAreasChartData]="burnedAreasChartData"
                                    [burnedAreasPerPropertyChartDatas]="burnedAreasPerPropertyChartDatas"></app-burned-areas-chart>
            <br/>

            <section *ngIf="chartImages && chartImages.length > 0">
                <h2 class="text-center">
                    Áreas de desmatamento (PRODES) e gráfico NDVI (SATVeg - Embrapa)
                    <br/>
                    <small>{{formattedFilterDate }}</small>
                </h2>
                <hr>
                <br>
                <div class="p-grid">
                    <div *ngFor="let chartImage of chartImages; trackBy: trackById; let i = index"
                         class="p-col-12 p-md-12">
                        <div class="card text-center">
                            <p-card class="p-card-shadow">
                                <div class="p-grid p-align-center p-justify-center">
                                    <img [src]="chartImage.geoserverImageNdvi"/>
                                </div>
                                <br>
                                <div class="p-grid p-align-center p-justify-center">
                                    <p-chart [data]="chartImage.myChart" class="width-100" type="line"></p-chart>
                                </div>
                                <br>
                                <br>
                            </p-card>
                        </div>
                    </div>
                </div>
                <hr>
            </section>
        </div>
    </div>
</p-scrollPanel>
